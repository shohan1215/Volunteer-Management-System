{
    "sourceFile": "src/Pages/Register/Register.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1753990649930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753990706564,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,26 @@\n \n     createNewUser(email, password)\n       .then((result) => {\n         setUser(result?.user);\n-        \n+        const newUser = {\n+      name: name,\n+      email: email,\n+      photo: photo,\n+      role: \"user\", // চাইলে role দাও\n+    };\n+\n+    fetch(\"http://localhost:5000/users\", {\n+      method: \"POST\",\n+      headers: {\n+        \"Content-Type\": \"application/json\",\n+      },\n+      body: JSON.stringify(newUser),\n+    })\n+      .then((res) => res.json())\n+      .then((data) => {\n+        console.log(\"MongoDB response\", data);\n+      });\n         updateUserProfile({ displayName: name, photoURL: photo })\n           .then(() => {\n             toast.success(\"Registration Succcessful\");\n             navigate(\"/\");\n"
                },
                {
                    "date": 1753990725505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,9 @@\n     createNewUser(email, password)\n       .then((result) => {\n         setUser(result?.user);\n         const newUser = {\n-      name: name,\n+          \n       email: email,\n       photo: photo,\n       role: \"user\", // চাইলে role দাও\n     };\n"
                },
                {
                    "date": 1753990732726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,10 +36,10 @@\n     createNewUser(email, password)\n       .then((result) => {\n         setUser(result?.user);\n         const newUser = {\n-          \n-      email: email,\n+          name: name,\n+          email: email,\n       photo: photo,\n       role: \"user\", // চাইলে role দাও\n     };\n \n"
                },
                {
                    "date": 1753990743182,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n         const newUser = {\n           name: name,\n           email: email,\n           photo: photo,\n-      role: \"user\", // চাইলে role দাও\n+          role: \"user\", // চাইলে role দাও\n     };\n \n     fetch(\"http://localhost:5000/users\", {\n       method: \"POST\",\n"
                },
                {
                    "date": 1753992286129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n         const newUser = {\n         name: name,\n         email: email,\n         photo: photo,\n-      role: \"user\", // চাইলে role দাও\n+        role: \"user\", // চাইলে role দাও\n     };\n \n     fetch(\"http://localhost:5000/users\", {\n       method: \"POST\",\n"
                }
            ],
            "date": 1753990649930,
            "name": "Commit-0",
            "content": "import { Link, useNavigate } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport useAuth from \"../../Hooks/useAuth\";\nimport RegistrationLottie from \"../../assets/Lottie/RegistrationLottie.json\";\nimport Lottie from \"lottie-react\";\nimport GoogleLogin from \"../../Components/Google Login/GoogleLogin\";\nimport { FaEye, FaEyeSlash } from \"react-icons/fa\";\nimport { useState } from \"react\";\n\nconst Registration = () => {\n  const navigate = useNavigate();\n  const { user, setUser, createNewUser, updateUserProfile } = useAuth();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const email = form.email.value;\n    const name = form.name.value;\n    const photo = form.photo.value;\n    const password = form.password.value;\n    console.log({ email, password, name, photo });\n\n    if (password.length < 6) {\n      setErrorMessage(\"password should be 6 characters\");\n      return;\n    }\n    const regularExp = /^(?=.*[A-Z])(?=.*[a-z]).{6,}$/;\n    if (!regularExp.test(password)) {\n      setErrorMessage(\"must have uppercase & lowercase\");\n      return;\n    }\n\n    createNewUser(email, password)\n      .then((result) => {\n        setUser(result?.user);\n        \n        updateUserProfile({ displayName: name, photoURL: photo })\n          .then(() => {\n            toast.success(\"Registration Succcessful\");\n            navigate(\"/\");\n          })\n          .catch((error) => toast.error(error.code));\n      })\n      .catch((error) => {\n        toast.error(\"Email already use in another account\", {\n          position: \"top-right\",\n        });\n      });\n  };\n\n  return (\n    <div className=\"flex justify-center items-center min-h-[calc(100vh-306px)] mt-32 mb-10\">\n      <div className=\"md:flex w-full  mx-auto overflow-hidden  rounded-lg shadow-lg  lg:max-w-4xl \">\n        <div className=\"w-full px-6 py-8 md:px-8 lg:w-1/2\">\n          <p className=\"mt-3 text-xl text-center text-gray-600 \">\n            Registration an Account\n          </p>\n\n          <GoogleLogin></GoogleLogin>\n\n          <div className=\"flex items-center justify-between mt-4\">\n            <span className=\"w-1/5 border-b  lg:w-1/4\"></span>\n\n            <div className=\"text-xs text-center text-gray-500 uppercase\">\n              or Registration with email\n            </div>\n\n            <span className=\"w-1/5 border-b dark:border-gray-400 lg:w-1/4\"></span>\n          </div>\n          <form onSubmit={handleSignUp}>\n            <div className=\"mt-4\">\n              <label\n                className=\"block mb-2 text-sm font-medium text-gray-600 \"\n                htmlFor=\"name\"\n              >\n                Username\n              </label>\n              <input\n                id=\"name\"\n                autoComplete=\"name\"\n                required\n                name=\"name\"\n                className=\"block w-full px-4 py-2 text-gray-700 bg-white border rounded-lg    focus:border-blue-400 focus:ring-opacity-40  focus:outline-none focus:ring focus:ring-blue-300\"\n                type=\"text\"\n              />\n            </div>\n            <div className=\"mt-4\">\n              <label\n                className=\"block mb-2 text-sm font-medium text-gray-600 \"\n                htmlFor=\"photo\"\n              >\n                Photo URL\n              </label>\n              <input\n                id=\"photo\"\n                autoComplete=\"photo\"\n                required\n                name=\"photo\"\n                className=\"block w-full px-4 py-2 text-gray-700 bg-white border rounded-lg    focus:border-blue-400 focus:ring-opacity-40  focus:outline-none focus:ring focus:ring-blue-300\"\n                type=\"text\"\n              />\n            </div>\n            <div className=\"mt-4\">\n              <label\n                className=\"block mb-2 text-sm font-medium text-gray-600 \"\n                htmlFor=\"LoggingEmailAddress\"\n              >\n                Email Address\n              </label>\n              <input\n                id=\"LoggingEmailAddress\"\n                autoComplete=\"email\"\n                required\n                name=\"email\"\n                className=\"block w-full px-4 py-2 text-gray-700 bg-white border rounded-lg    focus:border-blue-400 focus:ring-opacity-40  focus:outline-none focus:ring focus:ring-blue-300\"\n                type=\"email\"\n              />\n            </div>\n\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between relative\">\n                <label\n                  className=\"block mb-2 text-sm font-medium text-gray-600 \"\n                  htmlFor=\"loggingPassword\"\n                >\n                  Password\n                </label>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"text-lg absolute top-10 right-4\"\n                >\n                  {showPassword ? <FaEyeSlash /> : <FaEye />}\n                </button>\n              </div>\n\n              <input\n                id=\"loggingPassword\"\n                autoComplete=\"current-password\"\n                name=\"password\"\n                required\n                className=\"block w-full px-4 py-2 text-gray-700 bg-white border rounded-lg    focus:border-blue-400 focus:ring-opacity-40  focus:outline-none focus:ring focus:ring-blue-300\"\n                type={showPassword ? \"text\" : \"password\"}\n              />\n              {errorMessage && (\n                <p className=\"mt-2 text-red-400 font-bold\">{errorMessage}</p>\n              )}\n            </div>\n            <div className=\"mt-6\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-accent text-lg w-full text-white\"\n              >\n                Register\n              </button>\n            </div>\n          </form>\n\n          <div className=\"flex justify-between items-center mt-4\">\n            <p className=\"text-gray-500\">Already have account? </p>\n            <Link to=\"/login\">\n              <p className=\"font-bold text-blue-500 hover:underline uppercase\">\n                Login\n              </p>\n            </Link>\n          </div>\n        </div>\n        <div className=\"lg:w-1/2 flex justify-center mx-auto\">\n          <Lottie animationData={RegistrationLottie}></Lottie>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;\n"
        }
    ]
}